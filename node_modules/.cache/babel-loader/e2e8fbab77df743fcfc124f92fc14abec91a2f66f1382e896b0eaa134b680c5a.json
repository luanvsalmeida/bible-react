{"ast":null,"code":"import React,{useState}from'react';import bible from'../data/bible.json';import'./css/SearchBar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBar=_ref=>{let{onSearch}=_ref;const[searchTermVersiculo,setSearchTermVersiculo]=useState('');const[searchTermLivro,setSearchTermLivro]=useState('');const[errorMessage,setErrorMessage]=useState('');// Gerar lista de livros a partir do JSON\nconst booksList=Object.entries(bible).flatMap(_ref2=>{let[testament,books]=_ref2;return Object.entries(books).map(_ref3=>{let[key,bookData]=_ref3;return{key,// Chave do livro (ex: \"GEN\")\nname:bookData.name,// Nome do livro (ex: \"Gênesis\")\nchapters:bookData.chapters// Capítulos com seus versículos\n};});});const handleInputChange=e=>{setSearchTermVersiculo(e.target.value);setErrorMessage('');};const handleSelectChange=e=>{setSearchTermLivro(e.target.value);setErrorMessage('');};const validateInput=()=>{if(!searchTermLivro){setErrorMessage('Por favor, selecione um livro.');return false;}if(!searchTermVersiculo.match(/^\\d+:\\d+$/)){setErrorMessage('Formato inválido. Use o formato Capítulo:Versículo (ex: 3:16).');return false;}const[chapter,verse]=searchTermVersiculo.split(':').map(Number);const selectedBook=booksList.find(book=>book.key===searchTermLivro);if(!selectedBook||!selectedBook.chapters[chapter-1]){setErrorMessage('Capítulo não encontrado no livro selecionado.');return false;}if(verse<1||verse>selectedBook.chapters[chapter-1].verses){setErrorMessage('Versículo fora do intervalo válido.');return false;}return true;};const handleSearchClick=()=>{if(validateInput()){const searchQuery=`${searchTermLivro} ${searchTermVersiculo}`;onSearch(searchQuery);}};const handleRandomClick=()=>{const randomBook=booksList[Math.floor(Math.random()*booksList.length)];const randomChapterIndex=Math.floor(Math.random()*randomBook.chapters.length);const randomChapter=randomBook.chapters[randomChapterIndex];const randomVerse=Math.ceil(Math.random()*randomChapter.verses);setSearchTermLivro(randomBook.key);setSearchTermVersiculo(`${randomChapter.chapter}:${randomVerse}`);onSearch(`${randomBook.key} ${randomChapter.chapter}:${randomVerse}`);setErrorMessage('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"search-bar__header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"search-bar__title\",children:\"Mensagem do Dia\"}),/*#__PURE__*/_jsx(\"p\",{className:\"search-bar__subtitle\",children:\"Escolha um livro e busque um vers\\xEDculo ou gere aleatoriamente uma mensagem de Deus para voc\\xEA!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar__form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar__group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"livros\",className:\"search-bar__label\",children:\"Selecione um livro:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"livros\",name:\"livros\",onChange:handleSelectChange,value:searchTermLivro,className:\"search-bar__select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Escolha um livro\"}),booksList.map(book=>/*#__PURE__*/_jsx(\"option\",{value:book.key,children:book.name},book.key))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar__group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"versiculo\",className:\"search-bar__label\",children:\"Vers\\xEDculo:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"versiculo\",type:\"text\",value:searchTermVersiculo,onChange:handleInputChange,placeholder:\"Ex: 3:16 (Cap\\xEDtulo:Vers\\xEDculo)\",className:\"search-bar__input\"})]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"search-bar__error\",children:errorMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar__actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"search-bar__button\",onClick:handleSearchClick,children:\"Buscar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"search-bar__button search-bar__button--secondary\",onClick:handleRandomClick,children:\"Aleat\\xF3rio\"})]})]})]});};export default SearchBar;","map":{"version":3,"names":["React","useState","bible","jsx","_jsx","jsxs","_jsxs","SearchBar","_ref","onSearch","searchTermVersiculo","setSearchTermVersiculo","searchTermLivro","setSearchTermLivro","errorMessage","setErrorMessage","booksList","Object","entries","flatMap","_ref2","testament","books","map","_ref3","key","bookData","name","chapters","handleInputChange","e","target","value","handleSelectChange","validateInput","match","chapter","verse","split","Number","selectedBook","find","book","verses","handleSearchClick","searchQuery","handleRandomClick","randomBook","Math","floor","random","length","randomChapterIndex","randomChapter","randomVerse","ceil","className","children","htmlFor","id","onChange","disabled","type","placeholder","onClick"],"sources":["C:/Users/luans/OneDrive/Documentos/ADS/1/FPROG/atividades/bible-react/src/components/SearchBar.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport bible from '../data/bible.json';\r\nimport './css/SearchBar.css';\r\n\r\nconst SearchBar = ({ onSearch }) => {\r\n    const [searchTermVersiculo, setSearchTermVersiculo] = useState('');\r\n    const [searchTermLivro, setSearchTermLivro] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    // Gerar lista de livros a partir do JSON\r\n    const booksList = Object.entries(bible).flatMap(([testament, books]) =>\r\n        Object.entries(books).map(([key, bookData]) => ({\r\n            key, // Chave do livro (ex: \"GEN\")\r\n            name: bookData.name, // Nome do livro (ex: \"Gênesis\")\r\n            chapters: bookData.chapters, // Capítulos com seus versículos\r\n        }))\r\n    );\r\n\r\n    const handleInputChange = (e) => {\r\n        setSearchTermVersiculo(e.target.value);\r\n        setErrorMessage('');\r\n    };\r\n\r\n    const handleSelectChange = (e) => {\r\n        setSearchTermLivro(e.target.value);\r\n        setErrorMessage('');\r\n    };\r\n\r\n    const validateInput = () => {\r\n        if (!searchTermLivro) {\r\n            setErrorMessage('Por favor, selecione um livro.');\r\n            return false;\r\n        }\r\n\r\n        if (!searchTermVersiculo.match(/^\\d+:\\d+$/)) {\r\n            setErrorMessage('Formato inválido. Use o formato Capítulo:Versículo (ex: 3:16).');\r\n            return false;\r\n        }\r\n\r\n        const [chapter, verse] = searchTermVersiculo.split(':').map(Number);\r\n        const selectedBook = booksList.find(book => book.key === searchTermLivro);\r\n\r\n        if (!selectedBook || !selectedBook.chapters[chapter - 1]) {\r\n            setErrorMessage('Capítulo não encontrado no livro selecionado.');\r\n            return false;\r\n        }\r\n\r\n        if (verse < 1 || verse > selectedBook.chapters[chapter - 1].verses) {\r\n            setErrorMessage('Versículo fora do intervalo válido.');\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    const handleSearchClick = () => {\r\n        if (validateInput()) {\r\n            const searchQuery = `${searchTermLivro} ${searchTermVersiculo}`;\r\n            onSearch(searchQuery);\r\n        }\r\n    };\r\n\r\n    const handleRandomClick = () => {\r\n        const randomBook = booksList[Math.floor(Math.random() * booksList.length)];\r\n        const randomChapterIndex = Math.floor(Math.random() * randomBook.chapters.length);\r\n        const randomChapter = randomBook.chapters[randomChapterIndex];\r\n        const randomVerse = Math.ceil(Math.random() * randomChapter.verses);\r\n\r\n        setSearchTermLivro(randomBook.key);\r\n        setSearchTermVersiculo(`${randomChapter.chapter}:${randomVerse}`);\r\n        onSearch(`${randomBook.key} ${randomChapter.chapter}:${randomVerse}`);\r\n        setErrorMessage('');\r\n    };\r\n\r\n    return (\r\n        <div className=\"search-bar\">\r\n            <header className=\"search-bar__header\">\r\n                <h1 className=\"search-bar__title\">Mensagem do Dia</h1>\r\n                <p className=\"search-bar__subtitle\">Escolha um livro e busque um versículo ou gere aleatoriamente uma mensagem de Deus para você!</p>\r\n            </header>\r\n\r\n            <div className=\"search-bar__form\">\r\n                <div className=\"search-bar__group\">\r\n                    <label htmlFor=\"livros\" className=\"search-bar__label\">Selecione um livro:</label>\r\n                    <select \r\n                        id=\"livros\" \r\n                        name=\"livros\" \r\n                        onChange={handleSelectChange}\r\n                        value={searchTermLivro}\r\n                        className=\"search-bar__select\"\r\n                    >\r\n                        <option value=\"\" disabled>Escolha um livro</option>\r\n                        {booksList.map(book => (\r\n                            <option key={book.key} value={book.key}>\r\n                                {book.name}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"search-bar__group\">\r\n                    <label htmlFor=\"versiculo\" className=\"search-bar__label\">Versículo:</label>\r\n                    <input\r\n                        id=\"versiculo\"\r\n                        type=\"text\"\r\n                        value={searchTermVersiculo}\r\n                        onChange={handleInputChange}\r\n                        placeholder=\"Ex: 3:16 (Capítulo:Versículo)\"\r\n                        className=\"search-bar__input\"\r\n                    />\r\n                </div>\r\n\r\n                {errorMessage && <p className=\"search-bar__error\">{errorMessage}</p>}\r\n\r\n                <div className=\"search-bar__actions\">\r\n                    <button\r\n                        className=\"search-bar__button\"\r\n                        onClick={handleSearchClick}\r\n                    >\r\n                        Buscar\r\n                    </button>\r\n\r\n                    <button\r\n                        className=\"search-bar__button search-bar__button--secondary\"\r\n                        onClick={handleRandomClick}\r\n                    >\r\n                        Aleatório\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchBar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}